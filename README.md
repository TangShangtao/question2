## C++回测框架demo  

# 测试方式： 
在Strategy/TestStrategy.h中实现策略逻辑；  
在main.cpp中指定回测的股票、手续费率、涨跌停限制、初始资金、无风险利率； 
创建build目录并执行cmake .. && make -j 
在bin目录下运行backtest可执行程序，查看生成回测日志 

# 实现逻辑 
整体基于观察者模式， 
Public.h：声明订单、成交、日频数据字段、行情数据订阅类接口和成交订阅类接口
Replayer：读取数据并逐行回放，通知行情数据订阅类； 
SimExchange：基于收盘价撮合订单，通知成交订阅类；记录订单、成交信息； 
Strategy：策略基类中提供行情信息和下单接口，维护基本的仓位和账户信息，资金不足、股票不足、超出涨跌停限制时，无法下单 
Statistic：回放完毕后，基于SimExchange中的订单、成交信息，进行统计结算 

# 统计模块具体实现 

收益率曲线：基于每一笔新的成交，计算累计盈亏和收益率，横坐标为成交发生日，纵坐标为收益率 
夏普比率：基于收益率曲线和无风险利率计算 
最大回撤：基于收益率曲线计算 
时序IC：在每一笔订单和成交中记录策略信号的值，计算收益率曲线和策略信号序列的相关性 

